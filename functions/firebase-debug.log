[debug] [2024-09-10T20:12:53.493Z] ----------------------------------------------------------------------
[debug] [2024-09-10T20:12:53.494Z] Command:       /Users/martincarre/.nvm/versions/node/v20.17.0/bin/node /Users/martincarre/.nvm/versions/node/v20.17.0/bin/firebase emulators:start
[debug] [2024-09-10T20:12:53.495Z] CLI Version:   13.16.0
[debug] [2024-09-10T20:12:53.495Z] Platform:      darwin
[debug] [2024-09-10T20:12:53.495Z] Node Version:  v20.17.0
[debug] [2024-09-10T20:12:53.495Z] Time:          Tue Sep 10 2024 22:12:53 GMT+0200 (Central European Summer Time)
[debug] [2024-09-10T20:12:53.495Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-09-10T20:12:53.557Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-09-10T20:12:53.557Z] > authorizing via signed-in user (carre.martin@gmail.com)
[debug] [2024-09-10T20:12:53.583Z] openjdk version "22.0.2" 2024-07-16

[debug] [2024-09-10T20:12:53.583Z] OpenJDK Runtime Environment Homebrew (build 22.0.2)
OpenJDK 64-Bit Server VM Homebrew (build 22.0.2, mixed mode, sharing)

[debug] [2024-09-10T20:12:53.586Z] Parsed Java major version: 22
[info] i  emulators: Starting emulators: auth, functions, firestore {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: auth, functions, firestore"}}
[debug] [2024-09-10T20:12:54.216Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-10T20:12:54.216Z] [auth] Authentication Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-10T20:12:54.216Z] [firestore] Firestore Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-10T20:12:54.216Z] [firestore.websocket] websocket server for firestore only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-10T20:12:54.216Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2024-09-10T20:12:54.219Z] [hub] writing locator at /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/hub-maps-prospect-searcher.json
[debug] [2024-09-10T20:12:54.540Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-10T20:12:54.540Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-10T20:12:54.540Z] [tasks] Cloud Tasks Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2024-09-10T20:12:54.540Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"auth":[{"address":"127.0.0.1","family":"IPv4","port":9099}],"firestore":[{"address":"127.0.0.1","family":"IPv4","port":8080}],"firestore.websocket":[{"address":"127.0.0.1","family":"IPv4","port":9150}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}],"tasks":[{"address":"127.0.0.1","family":"IPv4","port":9499}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, hosting, pubsub, storage, dataconnect {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mdatabase, hosting, pubsub, storage, dataconnect\u001b[22m"}}
[debug] [2024-09-10T20:12:54.541Z] defaultcredentials: writing to file /Users/martincarre/.config/firebase/carre_martin_gmail.com_application_default_credentials.json
[debug] [2024-09-10T20:12:54.544Z] Setting GAC to /Users/martincarre/.config/firebase/carre_martin_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/martincarre/.config/firebase/carre_martin_gmail.com_application_default_credentials.json"}}
[debug] [2024-09-10T20:12:54.545Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/maps-prospect-searcher/adminSdkConfig [none]
[debug] [2024-09-10T20:12:54.973Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/maps-prospect-searcher/adminSdkConfig 200
[debug] [2024-09-10T20:12:54.974Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/maps-prospect-searcher/adminSdkConfig {"projectId":"maps-prospect-searcher","storageBucket":"maps-prospect-searcher.appspot.com"}
[warn] ⚠  firestore: Cloud Firestore Emulator does not support multiple databases yet. {"metadata":{"emulator":{"name":"firestore"},"message":"Cloud Firestore Emulator does not support multiple databases yet."}}
[warn] ⚠  firestore: Did not find a Cloud Firestore rules file specified in a firebase.json config file. {"metadata":{"emulator":{"name":"firestore"},"message":"Did not find a Cloud Firestore rules file specified in a firebase.json config file."}}
[warn] ⚠  firestore: The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration. {"metadata":{"emulator":{"name":"firestore"},"message":"The emulator will default to allowing all reads and writes. Learn more about this option: https://firebase.google.com/docs/emulator-suite/install_and_configure#security_rules_configuration."}}
[debug] [2024-09-10T20:12:54.993Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-09-10T20:12:54.993Z] Ignoring unsupported arg: single_project_mode_error {"metadata":{"emulator":{"name":"firestore"},"message":"Ignoring unsupported arg: single_project_mode_error"}}
[debug] [2024-09-10T20:12:54.993Z] Starting Firestore Emulator with command {"binary":"java","args":["-Dgoogle.cloud_firestore.debug_log_level=FINE","-Duser.language=en","-jar","/Users/martincarre/.cache/firebase/emulators/cloud-firestore-emulator-v1.19.8.jar","--host","127.0.0.1","--port",8080,"--websocket_port",9150,"--project_id","maps-prospect-searcher","--single_project_mode",true,"--functions_emulator","127.0.0.1:5001"],"optionalArgs":["port","webchannel_port","host","rules","websocket_port","functions_emulator","seed_from_export","project_id","single_project_mode"],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"firestore"},"message":"Starting Firestore Emulator with command {\"binary\":\"java\",\"args\":[\"-Dgoogle.cloud_firestore.debug_log_level=FINE\",\"-Duser.language=en\",\"-jar\",\"/Users/martincarre/.cache/firebase/emulators/cloud-firestore-emulator-v1.19.8.jar\",\"--host\",\"127.0.0.1\",\"--port\",8080,\"--websocket_port\",9150,\"--project_id\",\"maps-prospect-searcher\",\"--single_project_mode\",true,\"--functions_emulator\",\"127.0.0.1:5001\"],\"optionalArgs\":[\"port\",\"webchannel_port\",\"host\",\"rules\",\"websocket_port\",\"functions_emulator\",\"seed_from_export\",\"project_id\",\"single_project_mode\"],\"joinArgs\":false,\"shell\":false}"}}
[info] i  firestore: Firestore Emulator logging to firestore-debug.log {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator logging to \u001b[1mfirestore-debug.log\u001b[22m"}}
[debug] [2024-09-10T20:12:55.596Z] Sep 10, 2024 10:12:55 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9150
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 10, 2024 10:12:55 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start\nINFO: Started WebSocket server on ws://127.0.0.1:9150\n"}}
[debug] [2024-09-10T20:12:55.610Z] API endpoint: http:// {"metadata":{"emulator":{"name":"firestore"},"message":"API endpoint: http://"}}
[debug] [2024-09-10T20:12:55.611Z] 127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

If you are running a Firestore in Datastore Mode project, run:

   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080

Note: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.
Dev App Server is now running.

 {"metadata":{"emulator":{"name":"firestore"},"message":"127.0.0.1:8080\nIf you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:\n\n   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080\n\nIf you are running a Firestore in Datastore Mode project, run:\n\n   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080\n\nNote: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.\nDev App Server is now running.\n\n"}}
[info] ✔  firestore: Firestore Emulator UI websocket is running on 9150. {"metadata":{"emulator":{"name":"firestore"},"message":"Firestore Emulator UI websocket is running on 9150."}}
[debug] [2024-09-10T20:12:58.567Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2024-09-10T20:12:58.567Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2024-09-10T20:12:58.567Z] Starting Emulator UI with command {"binary":"node","args":["/Users/martincarre/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs"],"optionalArgs":[],"joinArgs":false,"shell":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/martincarre/.cache/firebase/emulators/ui-v1.13.0/server/server.mjs\"],\"optionalArgs\":[],\"joinArgs\":false,\"shell\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2024-09-10T20:12:58.633Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2024-09-10T20:12:58.633Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/martincarre/Documents/storefront/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/martincarre/Documents/storefront/functions\" for Cloud Functions..."}}
[debug] [2024-09-10T20:12:58.776Z] Validating nodejs source
[debug] [2024-09-10T20:12:59.107Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-10T20:12:59.108Z] Building nodejs source
[debug] [2024-09-10T20:12:59.108Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-10T20:12:59.109Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-10T20:12:59.112Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8818

[error] /Users/martincarre/Documents/storefront/functions/index.js:12
import * as admin from "firebase-admin";
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-10T20:12:59.191Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Cannot use import statement outside a module
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌────────────────┬────────────────┬─────────────────────────────────┐
│ Emulator       │ Host:Port      │ View in Emulator UI             │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Authentication │ 127.0.0.1:9099 │ http://127.0.0.1:4000/auth      │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Functions      │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
├────────────────┼────────────────┼─────────────────────────────────┤
│ Firestore      │ 127.0.0.1:8080 │ http://127.0.0.1:4000/firestore │
└────────────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500, 9150

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2024-09-10T20:13:28.948Z] Sep 10, 2024 10:13:28 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 10, 2024 10:13:28 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-10T20:13:35.702Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-10T20:13:36.704Z] Validating nodejs source
[debug] [2024-09-10T20:13:37.052Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-10T20:13:37.052Z] Building nodejs source
[debug] [2024-09-10T20:13:37.052Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-10T20:13:37.053Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-10T20:13:37.053Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8474

[debug] [2024-09-10T20:13:37.170Z] Got response from /__/functions.yaml {"endpoints":{"helloWorld":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"helloWorld"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: helloWorld. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: helloWorld."}}
[info] ✔  functions[us-central1-helloWorld]: http function initialized (http://127.0.0.1:5001/maps-prospect-searcher/us-central1/helloWorld). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/maps-prospect-searcher/us-central1/helloWorld)."}}
[debug] [2024-09-10T20:18:59.567Z] Sep 10, 2024 10:18:59 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 10, 2024 10:18:59 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-10T20:35:35.326Z] Sep 10, 2024 10:35:35 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 10, 2024 10:35:35 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T07:05:30.024Z] Sep 11, 2024 9:05:30 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
Sep 11, 2024 9:05:30 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 9:05:30 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\nSep 11, 2024 9:05:30 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T07:27:04.185Z] Sep 11, 2024 9:27:04 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 9:27:04 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T07:27:31.512Z] Sep 11, 2024 9:27:31 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 9:27:31 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T08:44:57.328Z] Sep 11, 2024 10:44:57 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 10:44:57 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T08:46:15.918Z] Sep 11, 2024 10:46:15 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 10:46:15 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T09:02:39.348Z] Sep 11, 2024 11:02:39 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 11:02:39 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T09:03:28.938Z] Sep 11, 2024 11:03:28 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 11:03:28 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T09:29:24.311Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T09:29:25.313Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T09:29:25.769Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T09:29:25.769Z] Building nodejs source
[debug] [2024-09-11T09:29:25.769Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T09:29:25.770Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T09:29:25.771Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8345

[debug] [2024-09-11T09:29:26.269Z] Got response from /__/functions.yaml {"endpoints":{"onSignup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"onSignup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: onSignup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: onSignup."}}
[info] ✔  functions[us-central1-onSignup]: http function initialized (http://127.0.0.1:5001/maps-prospect-searcher/us-central1/onSignup). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/maps-prospect-searcher/us-central1/onSignup)."}}
[debug] [2024-09-11T09:54:05.987Z] Sep 11, 2024 11:54:05 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 11:54:05 AM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T10:10:03.144Z] Sep 11, 2024 12:10:03 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 12:10:03 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T11:55:43.017Z] Sep 11, 2024 1:55:43 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 1:55:43 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T11:56:50.424Z] Sep 11, 2024 1:56:50 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 1:56:50 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T12:25:42.030Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:25:43.032Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:25:43.416Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:25:43.416Z] Building nodejs source
[debug] [2024-09-11T12:25:43.416Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:25:43.417Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:25:43.418Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8163

[error] /Users/martincarre/Documents/storefront/functions/index.js:1
import * as functions from '@google-cloud/functions-framework';
^^^^^^

SyntaxError: Cannot use import statement outside a module
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T12:25:43.658Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Cannot use import statement outside a module
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T12:30:24.500Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:30:25.504Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:30:25.818Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:30:25.818Z] Building nodejs source
[debug] [2024-09-11T12:30:25.818Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:30:25.819Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:30:25.819Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8090

[error] /Users/martincarre/Documents/storefront/functions/index.js:12
const auth = getAuth();
      ^

SyntaxError: Identifier 'auth' has already been declared
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T12:30:25.888Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'auth' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T12:31:11.387Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:31:12.389Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:31:12.678Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:31:12.678Z] Building nodejs source
[debug] [2024-09-11T12:31:12.678Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:31:12.679Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:31:12.679Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8794

[error] Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './lib/logger' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/package.json
    at exportsNotFound (node:internal/modules/esm/resolve:304:10)
    at packageExportsResolve (node:internal/modules/esm/resolve:651:9)
    at resolveExports (node:internal/modules/cjs/loader:634:36)
    at Module._findPath (node:internal/modules/cjs/loader:724:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:1211:27)
    at Module._load (node:internal/modules/cjs/loader:1051:27)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:2:16)
    at Module._compile (node:internal/modules/cjs/loader:1469:14) {
  code: 'ERR_PACKAGE_PATH_NOT_EXPORTED'
}

[debug] [2024-09-11T12:31:12.761Z] Got response code 400; body Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './lib/logger' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/package.json
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T12:31:28.451Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:31:29.452Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:31:29.744Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:31:29.744Z] Building nodejs source
[debug] [2024-09-11T12:31:29.744Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:31:29.744Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:31:29.745Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8466

[error] Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './lib/logger' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/package.json
    at exportsNotFound (node:internal/modules/esm/resolve:304:10)
    at packageExportsResolve (node:internal/modules/esm/resolve:651:9)
    at resolveExports (node:internal/modules/cjs/loader:634:36)
    at Module._findPath (node:internal/modules/cjs/loader:724:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:1211:27)
    at Module._load (node:internal/modules/cjs/loader:1051:27)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:2:16)
    at Module._compile (node:internal/modules/cjs/loader:1469:14) {
  code: 'ERR_PACKAGE_PATH_NOT_EXPORTED'
}

[debug] [2024-09-11T12:31:29.817Z] Got response code 400; body Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './lib/logger' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/package.json
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T12:34:49.526Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:34:50.529Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:34:50.831Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:34:50.831Z] Building nodejs source
[debug] [2024-09-11T12:34:50.831Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:34:50.831Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:34:50.832Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8031

[error] /Users/martincarre/Documents/storefront/functions/index.js:12
export const signup = onRequest( async (req, res) => {
^^^^^^

SyntaxError: Unexpected token 'export'
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T12:34:50.909Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'export'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T12:35:57.722Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:35:58.723Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:35:59.064Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:35:59.065Z] Building nodejs source
[debug] [2024-09-11T12:35:59.065Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:35:59.065Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:35:59.065Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8521

[error] Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './lib/logger' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/package.json
    at exportsNotFound (node:internal/modules/esm/resolve:304:10)
    at packageExportsResolve (node:internal/modules/esm/resolve:651:9)
    at resolveExports (node:internal/modules/cjs/loader:634:36)
    at Module._findPath (node:internal/modules/cjs/loader:724:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:1211:27)
    at Module._load (node:internal/modules/cjs/loader:1051:27)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:2:16)
    at Module._compile (node:internal/modules/cjs/loader:1469:14) {
  code: 'ERR_PACKAGE_PATH_NOT_EXPORTED'
}

[debug] [2024-09-11T12:35:59.139Z] Got response code 400; body Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './lib/logger' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/package.json
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T12:37:23.654Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:37:24.656Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:37:25.344Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:37:25.344Z] Building nodejs source
[debug] [2024-09-11T12:37:25.344Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:37:25.345Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:37:25.346Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8910

[debug] [2024-09-11T12:37:25.559Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[info] ✔  functions[us-central1-signup]: http function initialized (http://127.0.0.1:5001/maps-prospect-searcher/us-central1/signup). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/maps-prospect-searcher/us-central1/signup)."}}
[debug] [2024-09-11T12:42:36.972Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T12:42:37.973Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T12:42:38.273Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T12:42:38.273Z] Building nodejs source
[debug] [2024-09-11T12:42:38.273Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T12:42:38.273Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T12:42:38.273Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8452

[info] {"severity":"INFO","message":"Using Firebase Emulators for development"}

[error] TypeError: auth.useEmulator is not a function
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:17:8)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T12:42:38.444Z] Got response code 400; body Failed to generate manifest from function source: TypeError: auth.useEmulator is not a function
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T13:01:27.136Z] Sep 11, 2024 3:01:27 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 3:01:27 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T13:05:29.838Z] Sep 11, 2024 3:05:29 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 3:05:29 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T15:12:00.720Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T15:12:01.726Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T15:12:02.164Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T15:12:02.164Z] Building nodejs source
[debug] [2024-09-11T15:12:02.164Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T15:12:02.165Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T15:12:02.165Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8966

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[error] ReferenceError: fs is not defined
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:12:32)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T15:12:02.403Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: fs is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T15:12:17.290Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T15:12:18.294Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T15:12:18.618Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T15:12:18.618Z] Building nodejs source
[debug] [2024-09-11T15:12:18.618Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T15:12:18.619Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T15:12:18.619Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8452

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[error] ReferenceError: fs is not defined
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:12:32)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T15:12:18.760Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: fs is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T15:12:42.908Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T15:12:43.911Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T15:12:44.238Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T15:12:44.238Z] Building nodejs source
[debug] [2024-09-11T15:12:44.238Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T15:12:44.238Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T15:12:44.239Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8235

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[error] ReferenceError: fs is not defined
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:12:32)
    at Module._compile (node:internal/modules/cjs/loader:1469:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T15:12:44.381Z] Got response code 400; body Failed to generate manifest from function source: ReferenceError: fs is not defined
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T15:13:01.828Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T15:13:02.829Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T15:13:03.149Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T15:13:03.149Z] Building nodejs source
[debug] [2024-09-11T15:13:03.149Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T15:13:03.149Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T15:13:03.150Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8747

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T15:13:03.332Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T15:18:24.473Z] Sep 11, 2024 5:18:24 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 5:18:24 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T15:34:32.822Z] Sep 11, 2024 5:34:32 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 5:34:32 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T15:42:03.763Z] Sep 11, 2024 5:42:03 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 5:42:03 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T15:44:46.880Z] Sep 11, 2024 5:44:46 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 5:44:46 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T16:52:15.740Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:52:15.739Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:52:15.740Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:52:15.739Z"],"workRunningCount":1}
[debug] [2024-09-11T16:52:15.741Z] Accepted request OPTIONS /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:52:15.746Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:52:15.746Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:52:15.749Z] [worker-pool] addWorker(us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-signup)"}}
[debug] [2024-09-11T16:52:15.750Z] [worker-pool] Adding worker with key us-central1-signup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-signup, total=1"}}
[debug] [2024-09-11T16:52:16.617Z] [runtime-status] [22165] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:52:16.618Z] [runtime-status] [22165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:52:16.618Z] [runtime-status] [22165] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-09-11T16:52:16.618Z] [runtime-status] [22165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:52:16.818Z] [runtime-status] [22165] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-09-11T16:52:16.818Z] [runtime-status] [22165] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-09-11T16:52:16.818Z] [runtime-status] [22165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:52:16.819Z] [runtime-status] [22165] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:52:16.820Z] [runtime-status] [22165] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:52:16.820Z] [runtime-status] [22165] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  {"severity":"INFO","message":"Running on Firebase Emulators"} {"user":{"severity":"INFO","message":"Running on Firebase Emulators"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"Running on Firebase Emulators\"}"}}
[debug] [2024-09-11T16:52:16.855Z] [runtime-status] [22165] Functions runtime initialized. {"cwd":"/Users/martincarre/Documents/storefront/functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Functions runtime initialized. {\"cwd\":\"/Users/martincarre/Documents/storefront/functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2024-09-11T16:52:16.855Z] [runtime-status] [22165] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_968baf99fa52f161.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22165] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_968baf99fa52f161.sock"}}
[debug] [2024-09-11T16:52:16.863Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: IDLE"}}
[debug] [2024-09-11T16:52:16.863Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:52:16.863Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: BUSY"}}
[debug] [2024-09-11T16:52:16.868Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 4.651792ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 4.651792ms"}}
[debug] [2024-09-11T16:52:16.868Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: IDLE"}}
[debug] [2024-09-11T16:52:16.868Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:52:16.868Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:52:16.868Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:52:16.869Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:52:16.869Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:52:16.869Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:52:16.869Z"],"workRunningCount":1}
[debug] [2024-09-11T16:52:16.869Z] Accepted request POST /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:52:16.869Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:52:16.870Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:52:16.870Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:52:16.870Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: BUSY"}}
[info] >  {"severity":"ERROR","message":"Error during user signup: ReferenceError: auth is not defined\n    at /Users/martincarre/Documents/storefront/functions/index.js:50:26\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:65:29\n    at cors (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:188:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:214:15)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:204:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:64:17\n    at new Promise (<anonymous>)"} {"user":{"severity":"ERROR","message":"Error during user signup: ReferenceError: auth is not defined\n    at /Users/martincarre/Documents/storefront/functions/index.js:50:26\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:65:29\n    at cors (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:188:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:214:15)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:204:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:64:17\n    at new Promise (<anonymous>)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error during user signup: ReferenceError: auth is not defined\\n    at /Users/martincarre/Documents/storefront/functions/index.js:50:26\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:65:29\\n    at cors (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:188:7)\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:224:17\\n    at originCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:214:15)\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:219:13\\n    at optionsCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:199:9)\\n    at corsMiddleware (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:204:7)\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:64:17\\n    at new Promise (<anonymous>)\"}"}}
[debug] [2024-09-11T16:52:16.879Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 9.38725ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 9.38725ms"}}
[debug] [2024-09-11T16:52:16.879Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: IDLE"}}
[debug] [2024-09-11T16:52:16.879Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:52:16.879Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:52:16.879Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:53:18.622Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T16:53:19.624Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T16:53:20.058Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T16:53:20.058Z] Building nodejs source
[debug] [2024-09-11T16:53:20.058Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T16:53:20.059Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T16:53:20.060Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8530

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T16:53:20.280Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T16:53:25.297Z] [worker-pool] Shutting down IDLE worker (us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-signup)"}}
[debug] [2024-09-11T16:53:25.297Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: FINISHING"}}
[debug] [2024-09-11T16:53:25.301Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: exited"}}
[debug] [2024-09-11T16:53:25.301Z] [worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-22a385b1-5dd3-4e4c-b103-c9fce0fda0c4]: FINISHED"}}
[debug] [2024-09-11T16:53:27.744Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:53:27.744Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:53:27.746Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:53:27.744Z"],"workRunningCount":1}
[debug] [2024-09-11T16:53:27.746Z] Accepted request OPTIONS /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:53:27.749Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:53:27.750Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:53:27.759Z] [worker-pool] Cleaned up workers for us-central1-signup: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-signup: 1 --> 0"}}
[debug] [2024-09-11T16:53:27.761Z] [worker-pool] addWorker(us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-signup)"}}
[debug] [2024-09-11T16:53:27.763Z] [worker-pool] Adding worker with key us-central1-signup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-signup, total=1"}}
[debug] [2024-09-11T16:53:28.174Z] [runtime-status] [22204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:53:28.175Z] [runtime-status] [22204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:53:28.175Z] [runtime-status] [22204] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-09-11T16:53:28.175Z] [runtime-status] [22204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:53:28.247Z] [runtime-status] [22204] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-09-11T16:53:28.247Z] [runtime-status] [22204] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-09-11T16:53:28.247Z] [runtime-status] [22204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:53:28.247Z] [runtime-status] [22204] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:53:28.248Z] [runtime-status] [22204] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:53:28.248Z] [runtime-status] [22204] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  {"severity":"INFO","message":"Running on Firebase Emulators"} {"user":{"severity":"INFO","message":"Running on Firebase Emulators"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"Running on Firebase Emulators\"}"}}
[debug] [2024-09-11T16:53:28.266Z] [runtime-status] [22204] Functions runtime initialized. {"cwd":"/Users/martincarre/Documents/storefront/functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Functions runtime initialized. {\"cwd\":\"/Users/martincarre/Documents/storefront/functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2024-09-11T16:53:28.266Z] [runtime-status] [22204] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_e76221e4d27a4c81.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22204] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_e76221e4d27a4c81.sock"}}
[debug] [2024-09-11T16:53:28.275Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: IDLE"}}
[debug] [2024-09-11T16:53:28.275Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:53:28.275Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: BUSY"}}
[debug] [2024-09-11T16:53:28.277Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 1.669708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 1.669708ms"}}
[debug] [2024-09-11T16:53:28.277Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: IDLE"}}
[debug] [2024-09-11T16:53:28.277Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:53:28.277Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:53:28.277Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:53:28.277Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:53:28.277Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:53:28.277Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:53:28.277Z"],"workRunningCount":1}
[debug] [2024-09-11T16:53:28.277Z] Accepted request POST /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:53:28.278Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:53:28.278Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:53:28.278Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:53:28.278Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: BUSY"}}
[info] >  {"severity":"ERROR","message":"Error during user signup: TypeError: Cannot read properties of undefined (reading 'createUser')\n    at /Users/martincarre/Documents/storefront/functions/index.js:50:37\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:65:29\n    at cors (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:188:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:214:15)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:204:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:64:17\n    at new Promise (<anonymous>)"} {"user":{"severity":"ERROR","message":"Error during user signup: TypeError: Cannot read properties of undefined (reading 'createUser')\n    at /Users/martincarre/Documents/storefront/functions/index.js:50:37\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:65:29\n    at cors (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:188:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:224:17\n    at originCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:214:15)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:219:13\n    at optionsCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:199:9)\n    at corsMiddleware (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:204:7)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:64:17\n    at new Promise (<anonymous>)"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error during user signup: TypeError: Cannot read properties of undefined (reading 'createUser')\\n    at /Users/martincarre/Documents/storefront/functions/index.js:50:37\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:65:29\\n    at cors (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:188:7)\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:224:17\\n    at originCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:214:15)\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:219:13\\n    at optionsCallback (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:199:9)\\n    at corsMiddleware (/Users/martincarre/Documents/storefront/functions/node_modules/cors/lib/index.js:204:7)\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v2/providers/https.js:64:17\\n    at new Promise (<anonymous>)\"}"}}
[debug] [2024-09-11T16:53:28.285Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 7.311542ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 7.311542ms"}}
[debug] [2024-09-11T16:53:28.285Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: IDLE"}}
[debug] [2024-09-11T16:53:28.285Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:53:28.285Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:53:28.286Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:55:08.761Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T16:55:09.763Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T16:55:10.067Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T16:55:10.067Z] Building nodejs source
[debug] [2024-09-11T16:55:10.067Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T16:55:10.067Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T16:55:10.068Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8703

[error] /Users/martincarre/Documents/storefront/functions/index.js:94
        } catch (getAuth()Error) {
                        ^

SyntaxError: Unexpected token '('
    at wrapSafe (node:internal/modules/cjs/loader:1378:20)
    at Module._compile (node:internal/modules/cjs/loader:1428:41)
    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)
    at Module.load (node:internal/modules/cjs/loader:1288:32)
    at Module._load (node:internal/modules/cjs/loader:1104:12)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at loadModule (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:40:16)
    at loadStack (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/runtime/loader.js:157:23)
    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js:56:56

[debug] [2024-09-11T16:55:10.141Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '('
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T16:55:26.838Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T16:55:27.840Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T16:55:28.179Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T16:55:28.179Z] Building nodejs source
[debug] [2024-09-11T16:55:28.179Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T16:55:28.179Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T16:55:28.179Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8769

[error] Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './getAuth()' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/package.json
    at exportsNotFound (node:internal/modules/esm/resolve:304:10)
    at packageExportsResolve (node:internal/modules/esm/resolve:651:9)
    at resolveExports (node:internal/modules/cjs/loader:634:36)
    at Module._findPath (node:internal/modules/cjs/loader:724:31)
    at Module._resolveFilename (node:internal/modules/cjs/loader:1211:27)
    at Module._load (node:internal/modules/cjs/loader:1051:27)
    at Module.require (node:internal/modules/cjs/loader:1311:19)
    at require (node:internal/modules/helpers:179:18)
    at Object.<anonymous> (/Users/martincarre/Documents/storefront/functions/index.js:6:21)
    at Module._compile (node:internal/modules/cjs/loader:1469:14) {
  code: 'ERR_PACKAGE_PATH_NOT_EXPORTED'
}

[debug] [2024-09-11T16:55:28.329Z] Got response code 400; body Failed to generate manifest from function source: Error [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './getAuth()' is not defined by "exports" in /Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/package.json
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2024-09-11T16:57:17.070Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T16:57:18.072Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T16:57:18.398Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T16:57:18.398Z] Building nodejs source
[debug] [2024-09-11T16:57:18.398Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T16:57:18.398Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T16:57:18.399Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8465

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T16:57:18.560Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T16:57:23.575Z] [worker-pool] Shutting down IDLE worker (us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-signup)"}}
[debug] [2024-09-11T16:57:23.575Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: FINISHING"}}
[debug] [2024-09-11T16:57:23.581Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: exited"}}
[debug] [2024-09-11T16:57:23.581Z] [worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-50f4a701-b4c3-497e-be71-ffe5c10f8106]: FINISHED"}}
[debug] [2024-09-11T16:57:57.588Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T16:57:58.590Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T16:57:58.915Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T16:57:58.915Z] Building nodejs source
[debug] [2024-09-11T16:57:58.915Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T16:57:58.915Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T16:57:58.916Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8865

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T16:57:59.084Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[debug] [2024-09-11T16:58:01.806Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:58:01.806Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:58:01.807Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:58:01.806Z"],"workRunningCount":1}
[debug] [2024-09-11T16:58:01.807Z] Accepted request OPTIONS /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:58:01.810Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:58:01.811Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:58:01.811Z] [worker-pool] Cleaned up workers for us-central1-signup: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-signup: 1 --> 0"}}
[debug] [2024-09-11T16:58:01.812Z] [worker-pool] addWorker(us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-signup)"}}
[debug] [2024-09-11T16:58:01.812Z] [worker-pool] Adding worker with key us-central1-signup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-signup, total=1"}}
[debug] [2024-09-11T16:58:02.225Z] [runtime-status] [22388] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:58:02.226Z] [runtime-status] [22388] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:58:02.226Z] [runtime-status] [22388] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-09-11T16:58:02.226Z] [runtime-status] [22388] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:58:02.296Z] [runtime-status] [22388] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-09-11T16:58:02.296Z] [runtime-status] [22388] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-09-11T16:58:02.296Z] [runtime-status] [22388] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:58:02.297Z] [runtime-status] [22388] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:58:02.297Z] [runtime-status] [22388] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:58:02.297Z] [runtime-status] [22388] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  {"severity":"INFO","message":"Running on Firebase Emulators"} {"user":{"severity":"INFO","message":"Running on Firebase Emulators"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"Running on Firebase Emulators\"}"}}
[debug] [2024-09-11T16:58:02.317Z] [runtime-status] [22388] Functions runtime initialized. {"cwd":"/Users/martincarre/Documents/storefront/functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Functions runtime initialized. {\"cwd\":\"/Users/martincarre/Documents/storefront/functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2024-09-11T16:58:02.317Z] [runtime-status] [22388] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_c20034b758f6bb47.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22388] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_c20034b758f6bb47.sock"}}
[debug] [2024-09-11T16:58:02.320Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: IDLE"}}
[debug] [2024-09-11T16:58:02.321Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:58:02.321Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: BUSY"}}
[debug] [2024-09-11T16:58:02.322Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 1.622875ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 1.622875ms"}}
[debug] [2024-09-11T16:58:02.322Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: IDLE"}}
[debug] [2024-09-11T16:58:02.322Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:58:02.322Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:58:02.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:58:02.323Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:58:02.323Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:58:02.323Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:58:02.323Z"],"workRunningCount":1}
[debug] [2024-09-11T16:58:02.323Z] Accepted request POST /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:58:02.324Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:58:02.324Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:58:02.324Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:58:02.324Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: BUSY"}}
[debug] [2024-09-11T16:58:02.341Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast [none]
[debug] [2024-09-11T16:58:02.341Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast {"eventId":"dbcdd15a-83bc-40fd-a509-0d9fd3856454","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/maps-prospect-searcher","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2024-09-11T16:58:02.340Z","data":{"uid":"gDO8G3BdBnzdWFkDAocW7yw5LM5e","email":"test@test.com","emailVerified":false,"displayName":"Martin","metadata":{"creationTime":"2024-09-11T16:58:02.340Z","lastSignInTime":"2024-09-11T16:58:02.340Z"},"customClaims":{},"providerData":[{"providerId":"password","email":"test@test.com","federatedId":"test@test.com","rawId":"test@test.com","displayName":"Martin"}]}}
[debug] [2024-09-11T16:58:02.343Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast 200
[debug] [2024-09-11T16:58:02.343Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast {"status":"multicast_acknowledged"}
[info] >  {"severity":"INFO","message":"User created with UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e"} {"user":{"severity":"INFO","message":"User created with UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"User created with UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e\"}"}}
[info] >  {"severity":"INFO","message":"Custom claims set for UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e"} {"user":{"severity":"INFO","message":"Custom claims set for UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"Custom claims set for UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e\"}"}}
[debug] [2024-09-11T16:58:02.526Z] Sep 11, 2024 6:58:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:02 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected HTTP/2 connection.\n"}}
[info] >  {"severity":"INFO","message":"User document created in Firestore with UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e"} {"user":{"severity":"INFO","message":"User document created in Firestore with UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"User document created in Firestore with UID: gDO8G3BdBnzdWFkDAocW7yw5LM5e\"}"}}
[debug] [2024-09-11T16:58:02.911Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 586.848708ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 586.848708ms"}}
[debug] [2024-09-11T16:58:02.911Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: IDLE"}}
[debug] [2024-09-11T16:58:02.911Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:58:02.911Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:58:02.911Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T16:58:04.095Z] [worker-pool] Shutting down IDLE worker (us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-signup)"}}
[debug] [2024-09-11T16:58:04.095Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: FINISHING"}}
[debug] [2024-09-11T16:58:04.102Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: exited"}}
[debug] [2024-09-11T16:58:04.102Z] [worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-43a227b5-9e74-43b6-9326-0e10e892e235]: FINISHED"}}
[debug] [2024-09-11T16:58:22.888Z] Sep 11, 2024 6:58:22 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:22 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T16:58:23.013Z] Sep 11, 2024 6:58:23 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:23 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T16:58:25.485Z] Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2024-09-11T16:58:25.525Z] Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected HTTP/2 connection.\n"}}
[debug] [2024-09-11T16:58:25.582Z] Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2024-09-11T16:58:25.716Z] Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2024-09-11T16:58:25.764Z] Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:25 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2024-09-11T16:58:29.196Z] Sep 11, 2024 6:58:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:29 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected non-HTTP/2 connection.\n"}}
[debug] [2024-09-11T16:58:29.199Z] Sep 11, 2024 6:58:29 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose
INFO: channel closed
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:58:29 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler onClose\nINFO: channel closed\n"}}
[debug] [2024-09-11T16:59:57.119Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:59:57.119Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:59:57.120Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:59:57.119Z"],"workRunningCount":1}
[debug] [2024-09-11T16:59:57.120Z] Accepted request OPTIONS /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:59:57.121Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:59:57.122Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:59:57.122Z] [worker-pool] Cleaned up workers for us-central1-signup: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-signup: 1 --> 0"}}
[debug] [2024-09-11T16:59:57.123Z] [worker-pool] addWorker(us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-signup)"}}
[debug] [2024-09-11T16:59:57.123Z] [worker-pool] Adding worker with key us-central1-signup, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-signup, total=1"}}
[debug] [2024-09-11T16:59:57.542Z] [runtime-status] [22431] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:59:57.542Z] [runtime-status] [22431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:59:57.542Z] [runtime-status] [22431] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2024-09-11T16:59:57.542Z] [runtime-status] [22431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:59:57.613Z] [runtime-status] [22431] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Checked functions.config() {\"config\":{}}"}}
[debug] [2024-09-11T16:59:57.613Z] [runtime-status] [22431] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2024-09-11T16:59:57.613Z] [runtime-status] [22431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:59:57.613Z] [runtime-status] [22431] Resolved module firebase-admin {"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2024-09-11T16:59:57.614Z] [runtime-status] [22431] Resolved module firebase-functions {"declared":true,"installed":true,"version":"5.1.1","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"5.1.1\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2024-09-11T16:59:57.614Z] [runtime-status] [22431] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"12.4.0","resolution":"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"12.4.0\",\"resolution\":\"/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] >  {"severity":"INFO","message":"Running on Firebase Emulators"} {"user":{"severity":"INFO","message":"Running on Firebase Emulators"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"Running on Firebase Emulators\"}"}}
[debug] [2024-09-11T16:59:57.633Z] [runtime-status] [22431] Functions runtime initialized. {"cwd":"/Users/martincarre/Documents/storefront/functions","node_version":"20.17.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Functions runtime initialized. {\"cwd\":\"/Users/martincarre/Documents/storefront/functions\",\"node_version\":\"20.17.0\"}"}}
[debug] [2024-09-11T16:59:57.633Z] [runtime-status] [22431] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_a812cdd8082d3bff.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[runtime-status] [22431] Listening to port: /var/folders/bv/sfl2s9293s92jchz5p8njx5r0000gn/T/fire_emu_a812cdd8082d3bff.sock"}}
[debug] [2024-09-11T16:59:57.735Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE"}}
[debug] [2024-09-11T16:59:57.736Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:59:57.736Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY"}}
[debug] [2024-09-11T16:59:57.738Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 1.919583ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 1.919583ms"}}
[debug] [2024-09-11T16:59:57.738Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE"}}
[debug] [2024-09-11T16:59:57.738Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:59:57.738Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:59:57.738Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:59:57.738Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:59:57.738Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T16:59:57.738Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T16:59:57.738Z"],"workRunningCount":1}
[debug] [2024-09-11T16:59:57.738Z] Accepted request POST /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T16:59:57.739Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T16:59:57.739Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T16:59:57.739Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T16:59:57.739Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY"}}
[debug] [2024-09-11T16:59:57.751Z] >>> [apiv2][query] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast [none]
[debug] [2024-09-11T16:59:57.751Z] >>> [apiv2][body] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast {"eventId":"77819091-2e4a-4217-a299-b121a1a9c491","eventType":"providers/firebase.auth/eventTypes/user.create","resource":{"name":"projects/maps-prospect-searcher","service":"firebaseauth.googleapis.com"},"params":{},"timestamp":"2024-09-11T16:59:57.751Z","data":{"uid":"thsSZI0fKrpPjInAcXrYdLjBB5RD","email":"test2@test.com","emailVerified":false,"displayName":"Viviana","metadata":{"creationTime":"2024-09-11T16:59:57.751Z","lastSignInTime":"2024-09-11T16:59:57.751Z"},"customClaims":{},"providerData":[{"providerId":"password","email":"test2@test.com","federatedId":"test2@test.com","rawId":"test2@test.com","displayName":"Viviana"}]}}
[debug] [2024-09-11T16:59:57.752Z] <<< [apiv2][status] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast 200
[debug] [2024-09-11T16:59:57.752Z] <<< [apiv2][body] POST http://127.0.0.1:5001/functions/projects/maps-prospect-searcher/trigger_multicast {"status":"multicast_acknowledged"}
[info] >  {"severity":"INFO","message":"User created with UID: thsSZI0fKrpPjInAcXrYdLjBB5RD"} {"user":{"severity":"INFO","message":"User created with UID: thsSZI0fKrpPjInAcXrYdLjBB5RD"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"User created with UID: thsSZI0fKrpPjInAcXrYdLjBB5RD\"}"}}
[info] >  {"severity":"INFO","message":"Custom claims set for UID: thsSZI0fKrpPjInAcXrYdLjBB5RD"} {"user":{"severity":"INFO","message":"Custom claims set for UID: thsSZI0fKrpPjInAcXrYdLjBB5RD"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"Custom claims set for UID: thsSZI0fKrpPjInAcXrYdLjBB5RD\"}"}}
[debug] [2024-09-11T16:59:57.869Z] Sep 11, 2024 6:59:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected HTTP/2 connection.
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 6:59:57 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead\nINFO: Detected HTTP/2 connection.\n"}}
[info] >  {"severity":"INFO","message":"User document created in Firestore with UID: thsSZI0fKrpPjInAcXrYdLjBB5RD"} {"user":{"severity":"INFO","message":"User document created in Firestore with UID: thsSZI0fKrpPjInAcXrYdLjBB5RD"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"INFO\",\"message\":\"User document created in Firestore with UID: thsSZI0fKrpPjInAcXrYdLjBB5RD\"}"}}
[debug] [2024-09-11T16:59:57.886Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 146.644917ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 146.644917ms"}}
[debug] [2024-09-11T16:59:57.886Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE"}}
[debug] [2024-09-11T16:59:57.886Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T16:59:57.886Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T16:59:57.886Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T17:03:32.327Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T17:03:32.327Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T17:03:32.327Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T17:03:32.327Z"],"workRunningCount":1}
[debug] [2024-09-11T17:03:32.327Z] Accepted request OPTIONS /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T17:03:32.329Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T17:03:32.329Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T17:03:32.329Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T17:03:32.329Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY"}}
[debug] [2024-09-11T17:03:32.332Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 2.684ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 2.684ms"}}
[debug] [2024-09-11T17:03:32.332Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE"}}
[debug] [2024-09-11T17:03:32.332Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T17:03:32.332Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T17:03:32.332Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T17:03:32.333Z] [work-queue] {"queuedWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T17:03:32.333Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T17:03:32.333Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/maps-prospect-searcher/us-central1/signup-2024-09-11T17:03:32.333Z"],"workRunningCount":1}
[debug] [2024-09-11T17:03:32.333Z] Accepted request POST /maps-prospect-searcher/us-central1/signup --> us-central1-signup
[debug] [2024-09-11T17:03:32.334Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2024-09-11T17:03:32.334Z] [functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/maps-prospect-searcher/us-central1/signup, mapping to path=/"}}
[debug] [2024-09-11T17:03:32.334Z] [worker-pool] submitRequest(triggerId=us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-signup)"}}
[info] i  functions: Beginning execution of "us-central1-signup" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Beginning execution of \"us-central1-signup\""}}
[debug] [2024-09-11T17:03:32.334Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: BUSY"}}
[info] >  {"severity":"ERROR","message":"Error during user signup: FirebaseAuthError: The email address is already in use by another account.\n    at FirebaseAuthError.fromServerError (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/utils/error.js:148:16)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/auth/auth-api-request.js:1628:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/martincarre/Documents/storefront/functions/index.js:52:26\n    at async runFunction (/Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {\n  errorInfo: {\n    code: 'auth/email-already-exists',\n    message: 'The email address is already in use by another account.'\n  },\n  codePrefix: 'auth'\n}"} {"user":{"severity":"ERROR","message":"Error during user signup: FirebaseAuthError: The email address is already in use by another account.\n    at FirebaseAuthError.fromServerError (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/utils/error.js:148:16)\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/auth/auth-api-request.js:1628:49\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async /Users/martincarre/Documents/storefront/functions/index.js:52:26\n    at async runFunction (/Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\n    at async runHTTPS (/Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\n    at async /Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {\n  errorInfo: {\n    code: 'auth/email-already-exists',\n    message: 'The email address is already in use by another account.'\n  },\n  codePrefix: 'auth'\n}"},"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"\u001b[90m> \u001b[39m {\"severity\":\"ERROR\",\"message\":\"Error during user signup: FirebaseAuthError: The email address is already in use by another account.\\n    at FirebaseAuthError.fromServerError (/Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/utils/error.js:148:16)\\n    at /Users/martincarre/Documents/storefront/functions/node_modules/firebase-admin/lib/auth/auth-api-request.js:1628:49\\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\\n    at async /Users/martincarre/Documents/storefront/functions/index.js:52:26\\n    at async runFunction (/Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:506:9)\\n    at async runHTTPS (/Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:531:5)\\n    at async /Users/martincarre/.nvm/versions/node/v20.17.0/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:694:21 {\\n  errorInfo: {\\n    code: 'auth/email-already-exists',\\n    message: 'The email address is already in use by another account.'\\n  },\\n  codePrefix: 'auth'\\n}\"}"}}
[debug] [2024-09-11T17:03:32.345Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-signup" in 10.367958ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finished \"us-central1-signup\" in 10.367958ms"}}
[debug] [2024-09-11T17:03:32.345Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: IDLE"}}
[debug] [2024-09-11T17:03:32.345Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2024-09-11T17:03:32.345Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2024-09-11T17:03:32.345Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2024-09-11T17:05:48.024Z] Sep 11, 2024 7:05:47 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 7:05:47 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T17:32:25.542Z] Sep 11, 2024 7:32:25 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 7:32:25 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T17:41:14.283Z] Sep 11, 2024 7:41:14 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 7:41:14 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T18:14:04.506Z] Sep 11, 2024 8:14:04 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 8:14:04 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T20:29:11.235Z] Sep 11, 2024 10:29:11 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 10:29:11 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed\nINFO: Websocket client disconnected\n"}}
[debug] [2024-09-11T20:29:31.774Z] Sep 11, 2024 10:29:31 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
 {"metadata":{"emulator":{"name":"firestore"},"message":"Sep 11, 2024 10:29:31 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel\nINFO: Connected to new websocket client\n"}}
[debug] [2024-09-11T20:32:05.932Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T20:32:06.934Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T20:32:07.412Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T20:32:07.412Z] Building nodejs source
[debug] [2024-09-11T20:32:07.412Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T20:32:07.412Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T20:32:07.413Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8361

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T20:32:07.714Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T20:32:12.722Z] [worker-pool] Shutting down IDLE worker (us-central1-signup) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-signup)"}}
[debug] [2024-09-11T20:32:12.722Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: FINISHING"}}
[debug] [2024-09-11T20:32:12.725Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: exited"}}
[debug] [2024-09-11T20:32:12.725Z] [worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-signup"},"extension":{},"message":"[worker-us-central1-signup-861b208d-531c-4580-8cfd-cde44358bb0d]: FINISHED"}}
[debug] [2024-09-11T20:37:19.452Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T20:37:20.454Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T20:37:20.874Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T20:37:20.874Z] Building nodejs source
[debug] [2024-09-11T20:37:20.874Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T20:37:20.875Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T20:37:20.875Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8881

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T20:37:21.129Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T20:43:14.283Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T20:43:15.284Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T20:43:15.679Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T20:43:15.679Z] Building nodejs source
[debug] [2024-09-11T20:43:15.679Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T20:43:15.679Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T20:43:15.680Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8999

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T20:43:15.945Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T20:43:37.596Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T20:43:38.598Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T20:43:38.963Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T20:43:38.963Z] Building nodejs source
[debug] [2024-09-11T20:43:38.963Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T20:43:38.964Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T20:43:38.964Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8976

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T20:43:39.234Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
[debug] [2024-09-11T20:43:45.031Z] File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/martincarre/Documents/storefront/functions/index.js changed, reloading triggers"}}
[debug] [2024-09-11T20:43:46.033Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-09-11T20:43:46.349Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^12.4.0",
    "firebase-functions": "^5.0.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-09-11T20:43:46.349Z] Building nodejs source
[debug] [2024-09-11T20:43:46.349Z] Failed to find version of module node: reached end of search path /Users/martincarre/Documents/storefront/functions/node_modules
[warn] ⚠  functions: Your requested "node" version "18" doesn't match your global version "20". Using node@20 from host. 
[debug] [2024-09-11T20:43:46.349Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-09-11T20:43:46.350Z] Found firebase-functions binary at '/Users/martincarre/Documents/storefront/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8324

[info] {"severity":"INFO","message":"Running on Firebase Emulators"}

[debug] [2024-09-11T20:43:46.516Z] Got response from /__/functions.yaml {"endpoints":{"signup":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"httpsTrigger":{},"entryPoint":"signup"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] ✔  functions: Loaded functions definitions from source: signup. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: signup."}}
